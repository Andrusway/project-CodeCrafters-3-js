import{S as A,N as I,K as P,a as f}from"./assets/vendor-DAkYZOCW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();function H(){const e=new A(".swiper-hero",{modules:[I,P],slidesPerView:1,loop:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{0:{spaceBetween:16},768:{spaceBetween:32},1440:{spaceBetween:64}}});function t(){const s=document.querySelector(".swiper-button-prev"),i=document.querySelector(".swiper-button-next");s&&(s.disabled=e.isBeginning),i&&(i.disabled=e.isEnd)}return e.on("init",t),e.on("slideChange",t),e}const D=document.body,g=document.querySelector(".navbar-btn"),p=document.querySelector(".navbar-close-btn"),l=document.querySelector("ul.navbar"),M=window.matchMedia("(max-width:767px)");function E(){D.classList.toggle("no-scroll")}function $(e){e.matches?l.addEventListener("click",L):l.removeEventListener("click",L)}function L(e){j(e)}function K(){if(!l.classList.contains("is-visible")){l.classList.add("is-visible"),g.classList.remove("is-visible"),p.classList.toggle("is-visible"),E();return}}function x(){if(l.classList.contains("is-visible")){l.classList.remove("is-visible"),g.classList.add("is-visible"),p.classList.toggle("is-visible"),E();return}}function j(e){const t=e.target.closest("a");if(!t)return;const s=t.getAttribute("href").substring(1),i=document.getElementById(s);i&&i.scrollIntoView({behavior:"smooth"}),x()}f.defaults.baseURL="https://books-backend.p.goit.global/books/";const m=document.querySelector(".books-categories-list");async function V(){return(await f.get("category-list")).data}function U(e){const t=e.map(({list_name:s})=>{if(s!=="")return`<li class="books-categories-item">${s}</li>`}).join("");m.innerHTML=t}async function F(){try{const e=await V();e.unshift({list_name:"All categories"}),U(e)}catch(e){console.log(e)}}F();const Q=document.querySelector(".books-categories-title-wrapper");Q.addEventListener("click",N);function N(){m.classList.toggle("show-books-categories-list")}const y=document.querySelector(".books-show-more-button");function h(){y.classList.add("books-show-more-button-display")}function k(){y.classList.remove("books-show-more-button-display")}const d=document.querySelector(".books-list"),a=window.innerWidth>=768?24:10,w=document.querySelector(".books-number-info");let c=0,b=0;const B=4,q=0;let n=[];async function R(){return(await f.get("top-books")).data.flatMap(i=>i.books)}async function W(e){return(await f.get(`category?category=${e}`)).data}function v(e){return e.map(({author:s,book_image:i,price:o,title:r,_id:u})=>`<li class="books-item" data-id="${u}">
          <img class="books-image" src="${i}" alt="${r}" width="343" />
          <div class="book-info">
            <div>
              <p class="book-title">${r}</p>
              <p class="book-author">${s}</p>
            </div>
            <p class="book-price">$${o}</p>
          </div>
          <button class="books-learn-more-button" type="button">
            Learn More
          </button>
        </li>`).join("")}m.addEventListener("click",z);async function z(e){N();const t=e.target.textContent;t==="All categories"?O():G(t)}async function O(){k();try{n=await R();const t=n.slice(q,a);d.innerHTML=v(t),c=n.length>a?a:n.length,b=n.length,w.textContent=`Showing ${c} of ${b}`,n.length>a&&h()}catch(e){console.log(e)}}O();async function G(e){k();try{const t=await W(e);if(n=t,c=n.length>a?a:n.length,b=n.length,w.textContent=`Showing ${c} of ${b}`,!t.length){d.innerHTML="<p>Sorry, there are no books in this category!</p>";return}const s=n.slice(q,a);d.innerHTML=v(s),n.length>a&&h()}catch(t){console.log(t)}}y.addEventListener("click",J);let S=0,C=0;function J(){k(),S=c,c=n.length>c+B?c+B:n.length,w.textContent=`Showing ${c} of ${b}`,C=c;const e=n.slice(S,C);d.insertAdjacentHTML("beforeend",v(e)),n.length>c&&h()}d.addEventListener("click",X);function X(e){if(e.target.nodeName!=="BUTTON")return;e.target.closest("li.books-item").dataset.id}function T(){document.querySelector(".swiper-hero")?H():setTimeout(T,50)}document.addEventListener("DOMContentLoaded",T);$(M);M.addEventListener("change",$);g.addEventListener("click",K);p.addEventListener("click",x);
//# sourceMappingURL=index.js.map
